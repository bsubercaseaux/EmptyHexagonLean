\documentclass[a4paper, USenglish, cleveref, autoref, thm-restate]{lipics-v2021}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{cite}

\usepackage{framed}
\usepackage{doc}
\usepackage{mathtools}
\usepackage[customcolors]{hf-tikz}

% \usepackage{pgfplots}
% \usepackage{pgfmath}
\usepackage{float}
\usepackage[misc]{ifsym}
\usepackage[ruled]{algorithm2e}
% \usepackage{subcaption}
% \captionsetup{compatibility=false}
% \usepackage{graphicx}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{todonotes}
\usepackage{nicefrac}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{xpatch}
\usepackage{appendix}
\usepackage{adjustbox}
\usepackage{interval}
\usepackage{microtype}
\usepackage{subcaption}



\usepackage{tikz}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{fit}
\usetikzlibrary{arrows}
\usetikzlibrary{patterns}
\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\usetikzlibrary{backgrounds}
\usetikzlibrary{angles,quotes}
\usetikzlibrary{patterns.meta}

% \usepackage{hyperref}
\hypersetup{
  colorlinks = true,
  citecolor = blue,
  linkcolor = blue,
  urlcolor = blue
}

\newcommand{\myCustomUSymbol}{%
\tikz[baseline=-0.75ex]{
  \draw[thick, -] (0,-0.75ex) -- (0.5ex, 0.5ex) -- (1.4ex, 0.5ex) -- (1.9ex, -0.75ex) -- cycle; 
}}

\newsavebox{\myUSymbolBox}
\savebox{\myUSymbolBox}{\myCustomUSymbol}

\newcommand{\mathMyUSymbol}{\ensuremath{\usebox{\myUSymbolBox}}}

\newcommand{\myCustomVSymbol}{%
\tikz[baseline=-0.75ex]{
  \draw[thick, -] (0,0.5ex) -- (0.5ex, -0.75ex) -- (1.4ex, -0.75ex) -- (1.9ex, 0.5ex) -- cycle; 
}}

\newsavebox{\myVSymbolBox}
\savebox{\myVSymbolBox}{\myCustomVSymbol}

\newcommand{\mathMyVSymbol}{\ensuremath{\usebox{\myVSymbolBox}}}


\newcommand{\myCustomHSymbol}{%
\tikz[baseline=-0.75ex]{
  \draw[thick, -] (0,-0.75ex) -- (0.7ex, 0.6ex) -- (1.4ex, -0.75ex) -- cycle; 
}}

\newsavebox{\myHSymbolBox}
\savebox{\myHSymbolBox}{\myCustomHSymbol}

\newcommand{\mathMyHSymbol}{\ensuremath{\usebox{\myHSymbolBox}}}


\newcommand{\myCustomCSymbol}{%
\tikz[baseline=-0.75ex]{
  \draw[thick, -] (0,-0.75ex) -- (0.7ex, 0.6ex) -- (1.4ex, -0.75ex) -- cycle; 
  \node[circle, fill=black, inner sep=0pt, minimum size=0.3ex] at (0.7ex, -0.3ex) {}; 
}}

\newsavebox{\myCSymbolBox}
\savebox{\myCSymbolBox}{\myCustomCSymbol}

\newcommand{\mathMyCSymbol}{\ensuremath{\usebox{\myCSymbolBox}}}


\newcommand{\myCustomUFSymbol}{%
\tikz[baseline=-0.75ex]{
  \draw[thick, -] (0,-0.75ex) -- (0.2ex, -0.1ex) -- (0.9ex,0.5ex) -- (1.7ex, -0.1ex) -- (1.9ex, -0.75ex) -- cycle; 

}}

\newsavebox{\myUFSymbolBox}
\savebox{\myUFSymbolBox}{\myCustomUFSymbol}

\newcommand{\mathMyUFSymbol}{\ensuremath{\usebox{\myUFSymbolBox}}}

\newcommand{\orvar}{\circlearrowleft}
\newcommand{\uvar}{\mathMyUSymbol}
\newcommand{\ufvar}{\mathMyUFSymbol}
\newcommand{\vvar}{\mathMyVSymbol}
\newcommand{\hvar}{\mathMyHSymbol}
\newcommand{\cvar}{\mathMyCSymbol}
\newcommand{\ov}[1]{\overline{#1}}

\usepackage{color}
\definecolor{keywordcolor}{rgb}{0.7, 0.1, 0.1}   % red
\definecolor{tacticcolor}{rgb}{0.0, 0.1, 0.6}    % blue
\definecolor{commentcolor}{rgb}{0.4, 0.4, 0.4}   % grey
\definecolor{symbolcolor}{rgb}{0.0, 0.1, 0.6}    % blue
\definecolor{sortcolor}{rgb}{0.1, 0.5, 0.1}      % green
\definecolor{attributecolor}{rgb}{0.7, 0.1, 0.1} % red

\def\lstlanguagefiles{lstlean.tex}
% set default language
\lstset{language=lean,
backgroundcolor=,
extendedchars=true,
stringstyle=\color{stringcolor}
}

\makeatletter
\def\orcidID#1{\href{http://orcid.org/#1}{\protect\raisebox{-1.25pt}{\protect\includegraphics{orcid_color.eps}}}}
\makeatother

% \newtheorem{theorem}{Theorem}
% \newtheorem{lemma}{Lemma}
% \newtheorem{definition}{Definition}
\newtheorem*{theorem*}{Theorem}

\newcommand{\leansat}{\textsf{LeanSAT}}

\bibliographystyle{plainurl}

\title{\texorpdfstring{Formal Verification of the Empty Hexagon Number}{A Formal Verification of the Empty Hexagon Number}}%
% \thanks{Other people who contributed to this document include Maria Voronkov
%   (Imperial College and EasyChair) and Graham Gough (The University of
%   Manchester).}}

% Authors are joined by \and. Their affiliations are given by \inst, which indexes
% into the list defined using \institute
%
% \author{
%         Mario Carneiro \orcidID{0000-0002-0470-5249} % change me for the real one
%   \and  Cayden Codel \orcidID{0000-0003-3588-4873}
%   \and  James Gallicchio \orcidID{0000-0002-0838-3240}
%   \and  \\ Wojciech Nawrocki \orcidID{0000-0002-8839-0618}
%   \and  Bernardo Subercaseaux \orcidID{0000-0003-2295-1299}
% }
%
% \institute{
%   Carnegie Mellon University, Pittsburgh, PA 15213, USA\\
%   \email{\{mcarneir, ccodel, jgallicc, wnawrock, bsuberca\}@andrew.cmu.edu}
% }

\author{Bernardo {Subercaseaux}}{Carnegie Mellon University}{bsuberca@andrew.cmu.edu}{https://orcid.org/0000-0003-2295-1299}{}
\author{Wojciech {Nawrocki}}{Carnegie Mellon University}{wjnawrocki@cmu.edu}{https://orcid.org/0000-0002-8839-0618}{}
\author{James {Gallicchio}}{Carnegie Mellon University}{jgallicc@andrew.cmu.edu}{https://orcid.org/0000-0002-0838-3240}{}
\author{Cayden {Codel}}{Carnegie Mellon University}{ccodel@andrew.cmu.edu}{https://orcid.org/0000-0003-3588-4873}{}
\author{Mario {Carneiro}}{Carnegie Mellon University}{mcarneir@andrew.cmu.edu}{https://orcid.org/0000-0002-0470-5249}{}
\author{Marijn J. H. {Heule}}{Carnegie Mellon University}{mheule@andrew.cmu.edu}{https://orcid.org/0000-0002-5587-8801}{}

%  \authorrunning{} has to be set for the shorter version of the authors' names;
% otherwise a warning will be rendered in the running heads. When processed by
% EasyChair, this command is mandatory: a document without \authorrunning
% will be rejected by EasyChair

\authorrunning{Subercaseaux et al.}

% \titlerunning{} has to be set to either the main title or its shorter
% version for the running heads. When processed by
% EasyChair, this command is mandatory: a document without \titlerunning
% will be rejected by EasyChair
\titlerunning{Formal Verification of the Empty Hexagon Number}


% \ccsdesc[100]{\begin{CCSXML}
%   <ccs2012>
%      <concept>
%          <concept_id>10003752.10003790.10002990</concept_id>
%          <concept_desc>Theory of computation~Logic and verification</concept_desc>
%          <concept_significance>300</concept_significance>
%          </concept>
%    </ccs2012>
%   \end{CCSXML}

\ccsdesc[300]{Theory of computation~Logic and verification}

\keywords{Empty Hexagon Number, Discrete Computational Geometry, Erd\H{o}s-Szekeres}

\Copyright{The authors}%Bernardo Subercaseaux and Wojciech Nawrocki and James Gallicchio and Cayden Codel and Mario Carneiro}

\begin{document}

\maketitle

\begin{abstract}
  A recent breakthrough in computer-assisted mathematics showed that every set of $30$ points in the plane in general position (i.e., no three points on a common line) contains an empty convex hexagon. %, closing a line of research dating back to the 1930s.
  With a combination of geometric insights and automated reasoning techniques, Heule and Scheucher constructed CNF formulas $\phi_n$, with $O(n^4)$ clauses, such that if $\phi_n$ is unsatisfiable then every set of $n$ points in general position must contain an empty convex hexagon.
  An unsatisfiability proof for $n = 30$ was then found with a SAT solver using 17\,300 CPU hours of parallel computation. %, thus implying that the empty hexagon number $h(6)$ is equal to 30.
  In this paper, we formalize and verify this result in the Lean theorem prover. Our formalization covers ideas in discrete computational geometry and SAT encoding techniques by introducing a framework that connects geometric objects to propositional assignments.
  %  that have been successfully applied to similar Erd\H{o}s-Szekeres-type problems.
  % In particular, our framework connects standard geometric objects to propositional assignments.
  We see this as a key step towards the formal verification of other SAT-based results in geometry, since the abstractions we use have been successfully applied to similar Erd\H{o}s-Szekeres-type problems.
  Overall, we hope that this work sets a new standard for verification when extensive computation is used for discrete geometry problems, and that it increases the trust the mathematical community has in computer-assisted proofs in this area.
\end{abstract}


\section{Introduction}\label{sec:intro}
\input{intro.tex}

\section{Outline of the proof}\label{sec:outline}
\input{outline.tex}

\section{Geometric Preliminaries}\label{sec:geometry}
\input{geometry.tex}

\section{Triple Orientations}\label{sec:triple-orientations}
\input{triple-orientations.tex}

% \section{The Empty Triangle Theorem}\label{sec:empty-triangle}
% \input{empty_triangle.tex}

\section{Symmetry Breaking}\label{sec:symmetry-breaking}
\input{symmetry-breaking.tex}
\section{The Encoding and Its Correctness}\label{sec:encoding}
\input{encoding.tex}

% \section{SAT Pipeline}\label{sec:leansat}
% \input{leansat.tex}

\section{Related Work}\label{sec:related-work}
\input{related-work.tex}

\section{Concluding Remarks}\label{sec:conclusions}
\input{conclusions.tex}

\bibliography{main}

\end{document}

